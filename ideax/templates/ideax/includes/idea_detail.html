<!-- {% load widget_tweaks i18n %} -->
{% load staticfiles i18n %}

<div class="idea-card">
  <a href="{% url 'idea_detail' pk=idea.pk %}" class="img-container">
    <!-- <img style="width: 100%; height: 120px;" src="{{ idea.category.category_image.image}}" alt="" /> -->
      <img src="{{idea.category_image}}" alt="" />
  </a> <!-- IMAGEM DA CATEGORIA -->

  <div class="idea-content">
    <a href="{% url 'idea_detail' pk=idea.pk %}" class="idea-card-body">
      <div>
        <div class="cat-name">
          {{ idea.category.title }}
        </div>
      </div>
      <h1>{{ idea.title }}</h1>
      <div class="card-author">
          Por {{idea.author.user}}
      </div>
      <div class="short-desc">
        {% if idea.summary %}
          {{idea.summary}}
        {% else %}
          {{ idea.solution|truncatechars:140 }}
        {% endif %}
      </div>
    </a>

    <div class="idea-card-footer">
      <div class="card-line {{idea.get_current_phase.css_class}}"></div>
      <div class="footer-content">
        <div class="card-phase">
          {{ idea.get_current_phase.description }}
        </div>
        <div class="like-menu">
          <div class="liked">
            <a class="like" onclick="vote('{% url 'like_ideia' pk=idea.pk %}', '.liked_idea_{{idea.id}}', '.disliked_idea_{{idea.id}}', '.like_{{idea.id}}', '.dislike_{{idea.id}}')" href="javascript:void(0)">
              <i class="{%if idea.id in ideas_liked %} fas {% else %} far {% endif %} fa-thumbs-up like_{{idea.id}}" ></i>
              <p class="liked_idea_{{idea.id}} ">
                {{ idea.count_likes }}
              </p>
            </a>
          </div>
          <div class="disliked">
            <a class="dislike" onclick="vote('{% url 'dislike_ideia' pk=idea.pk %}', '.liked_idea_{{idea.id}}', '.disliked_idea_{{idea.id}}', '.like_{{idea.id}}', '.dislike_{{idea.id}}')" href="javascript:void(0)">
              <i class="{%if idea.id in ideas_disliked %} fas {% else %} far {% endif %} fa-thumbs-down dislike_{{idea.id}}"></i>
              <p class="disliked_idea_{{idea.id}}">
                {{ idea.count_dislikes }}
              </p>
            </a>
          </div>
        </div>
      </div>
    </div>

  </div>

</div>
